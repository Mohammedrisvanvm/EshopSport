<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>checkout</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
      rel="stylesheet"
    />
    <!-- MDB -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <section>
        <div class="container-fluid">
          <!-- Navbar -->
          <nav
            class="navbar fixed-top navbar-expand-lg navbar-dark mt-1 mb-5 shadow p-2"
            style="background-color: #607d8b"
          >
            <!-- Container wrapper -->
            <div class="container-fluid">
              <!-- Navbar brand -->
              <a class="navbar-brand mx-5" href="/"><h3>ESHOP SPORT</h3></a>

              <!-- Toggle button -->
              <button
                class="navbar-toggler text-white"
                type="button"
                data-mdb-toggle="collapse"
                data-mdb-target="#navbarSupportedContent1"
                aria-controls="navbarSupportedContent1"
                aria-expanded="false"
                aria-label="Toggle navigation"
              >
                <i class="fas fa-bars"></i>
              </button>

              <!-- Collapsible wrapper -->
              <div
                class="collapse navbar-collapse"
                id="navbarSupportedContent1"
              >
                <ul class="navbar-nav mx-5 me-auto mb-2 mb-lg-0">
                  <!-- Link -->
                  <li class="nav-item acitve">
                    <a class="nav-link mx-2" href="/"><h5>HOME</h5></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link mx-2" href="#"><h5>MENS</h5></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link mx-2" href="#"><H5>WOMENS</H5></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link mx-2" href="#"><H5>BOYS</H5></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link mx-2" href="#"><H5>GIRLS</H5></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link mx-2" href="#"><H5>CONTACT US</H5></a>
                  </li>
                </ul>

                <ul class="navbar-nav mb-2 mb-lg-0">
                  <li class="nav-item ms-5 fs-3 text-light">
                    <a href="/wishlist" class="text-decoration-none text-light"
                      ><i class="ri-heart-line"></i
                    ></a>
                  </li>
                  <li class="nav-item mx-5 fs-3">
                    <a
                      href="/cart"
                      class="text-decoration-none text-light d-flex"
                      ><i class="ri-shopping-cart-fill"></i
                    ></a>
                  </li>
                  <li class="nav-item pt-1">
                    <div class="d-flex">
                      <% if (isloggedin) { %>

                      <div class="dropdown">
                        <button
                          class="btn btn-secondary dropdown-toggle"
                          type="button"
                          id="dropdownMenuButton1"
                          data-bs-toggle="dropdown"
                          aria-expanded="false"
                        >
                          <i class="ri-user-fill"></i>
                        </button>
                        <ul
                          class="dropdown-menu"
                          aria-labelledby="dropdownMenuButton1"
                        >
                          <li>
                            <a class="dropdown-item" href="#">mohammed </a>
                          </li>
                          <li>
                            <a class="dropdown-item" href="/profile">profile</a>
                          </li>
                          <li><a class="dropdown-item" href="#">orders</a></li>
                          <li>
                            <a class="dropdown-item" href="/logout"
                              ><button class="btn btn-dark">logout</button></a
                            >
                          </li>
                        </ul>
                      </div>

                      <% } else { %>

                      <a href="/login">
                        <button class="btn btn-dark d-flex">
                          <h5 class="mx-2">LOGIN</h5>
                          <i class="ri-login-box-line fs-5"></i></button
                      ></a>

                      <% } %>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            <!-- Container wrapper -->
          </nav>
        </div>
      </section>
    </header>
    <div class="container pt-4">
      <div class="row" style="margin-top: 100px">
        <h1 class="d-flex justify-content-center mb-5">checkout</h1>
        <div class="col-md-4 order-md-2 mb-4">
          <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-muted">Your cart</span>
            <span class="badge badge-secondary badge-pill"><%-count %></span>
          </h4>
          <ul class="list-group mb-3 sticky-top">
            <% productsdetails.forEach((i) => { %>

            <li
              class="list-group-item d-flex justify-content-between lh-condensed"
            >
              <div>
                <h6 class="my-0"><%-i.productName %></h6>
                <small class="text-muted">price:₹<%-i.price %></small>
                <br />
                <small class="text-muted">quantity:<%-i.Qty %></small>
                <br />
                <small class="text-muted"><%-i.description %></small>
              </div>

              <span class="text-muted">Total:₹<%-i.totalp%></span>
            </li>
            <% }) %>

            <li class="list-group-item d-flex justify-content-between bg-light">
              <div class="text-success">
                <h6 class="my-0">Promo code</h6>
                <small>EXAMPLECODE</small>
              </div>
              <span class="text-success"></span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>Total </span>
              <strong>₹<%-totalprice %></strong>
            </li>
            <form class="card p-2">
              <div class="input-group">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Promo code"
                />
                <div class="input-group-append">
                  <button type="submit" class="btn btn-secondary ms-2">
                    Redeem
                  </button>
                </div>
              </div>
            </form>
          </ul>
          <!-- <form class="card p-2">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Promo code">
                    <div class="input-group-append">
                        <button type="submit" class="btn btn-secondary">Redeem</button>
                    </div>
                </div>
            </form> -->
        </div>

        <div class="col-md-8 order-md-1" id="exampleModalCenter">
          <h4 class="mb-3">Billing address</h4>
          <!-- Button trigger modal -->
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#staticBackdrop"
          >
            add address
          </button>

          <!-- Modal -->
          <div
            class="modal fade"
            id="staticBackdrop"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
            tabindex="-1"
            aria-labelledby="staticBackdropLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="staticBackdropLabel">
                    Modal title
                  </h1>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <h1 class="d-flex justify-content-center mb-5">
                    add address
                  </h1>
                  <div class="d-flex justify-content-center">
                    <form
                      class="needs-validation"
                      action="/cart"
                      method="post"
                      novalidate=""
                    >
                      <div class="row">
                        <div class="col-md-6 mb-3">
                          <label for="firstName">First name</label>
                          <input
                            type="text"
                            class="form-control"
                            name="firstName"
                            id="firstName"
                            placeholder=""
                            value=""
                            required
                          />
                          <div class="invalid-feedback">
                            Valid first name is required.
                          </div>
                        </div>
                        <div class="col-md-6 mb-3">
                          <label for="lastName">Last name</label>
                          <input
                            type="text"
                            class="form-control"
                            name="lastName"
                            id="lastName"
                            placeholder=""
                            value=""
                            required
                          />
                          <div class="invalid-feedback">
                            Valid last name is required.
                          </div>
                        </div>
                      </div>
                      <div class="mb-3">
                        <label for="username"></label>
                        <div class="input-group">
                          <div class="input-group-prepend">
                            <span class="input-group-text">phone no: +91</span>
                          </div>
                          <input
                            type="number"
                            class="form-control"
                            name="username"
                            id="username"
                            placeholder="Phone Number"
                            required
                          />
                          <div class="invalid-feedback" style="width: 100%">
                            Your username is required.
                          </div>
                        </div>
                      </div>
                      <div class="mb-3">
                        <label for="email"
                          >Email
                          <span class="text-muted">(Optional)</span></label
                        >
                        <input
                          type="email"
                          class="form-control"
                          name="Email"
                          id="email"
                          placeholder="you@example.com"
                        />
                        <div class="invalid-feedback">
                          Please enter a valid email address for shipping
                          updates.
                        </div>
                      </div>
                      <div class="mb-3">
                        <label for="address">Address</label>
                        <input
                          type="text"
                          class="form-control"
                          id="address"
                          name="address"
                          placeholder="1234 Main St"
                          required=""
                        />
                        <div class="invalid-feedback">
                          Please enter your shipping address.
                        </div>
                      </div>
                      <div class="mb-3">
                        <label for="address2"
                          >Address 2
                          <span class="text-muted">(Optional)</span></label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="address2"
                          placeholder="Apartment or suite"
                        />
                      </div>
                      <div class="row">
                        <div class="col-md-5 mb-3">
                          <label for="country">Country</label>
                          <select
                            class="custom-select d-block w-100"
                            name="country"
                            id="country"
                            required=""
                          >
                            <option value="">Choose...</option>
                            <option>United States</option>
                          </select>
                          <div class="invalid-feedback">
                            Please select a valid country.
                          </div>
                        </div>
                        <div class="col-md-4 mb-3">
                          <label for="state">State</label>
                          <select
                            class="custom-select d-block w-100"
                            name="state"
                            id="state"
                            required=""
                          >
                            <option value="">Choose...</option>
                            <option>California</option>
                          </select>
                          <div class="invalid-feedback">
                            Please provide a valid state.
                          </div>
                        </div>
                        <div class="col-md-3 mb-3">
                          <label for="zip">Zip</label>
                          <input
                            type="text"
                            class="form-control"
                            name="pincode"
                            id="zip"
                            placeholder=""
                            required=""
                          />
                          <div class="invalid-feedback">Zip code required.</div>
                        </div>
                      </div>

                      <div class="d-flex justify-content-center my-5">
                        <button class="btn btn-primary" type="submit">
                          add address
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Close
                  </button>
                </div>
              </div>
            </div>
          </div>

          <hr />
          <% if (!useraddress[0]) { %>
           
         

          <% } else { %>
           <p>add address.....</p>

          <div>
            <% useraddress.address.forEach((k) => { %>

            <ul>
              <li><%- k.firstName %></li>
              <li><%- k.lastName %></li>
              <li><%- k.username %></li>
              <li><%- k.Email %></li>
              <li><%- k.address %></li>
              <li><%- k.country %></li>
              <li><%- k.state %></li>
              <li><%- k.pincode %></li>
            </ul>
            <% }) %>
          </div>
          <% } %>

          <form action="">
            <hr class="mb-4" />
            <h4 class="mb-3">Payment</h4>
            <div class="d-block my-3">
              <div class="custom-control custom-radio">
                <input
                  id="credit"
                  name="paymentMethod"
                  type="radio"
                  class="custom-control-input"
                  checked=""
                  required=""
                />
                <label class="custom-control-label" for="credit"
                  >Credit card</label
                >
              </div>
              <div class="custom-control custom-radio">
                <input
                  id="debit"
                  name="paymentMethod"
                  type="radio"
                  class="custom-control-input"
                  required=""
                />
                <label class="custom-control-label" for="debit"
                  >Debit card</label
                >
              </div>
              <div class="custom-control custom-radio">
                <input
                  id="paypal"
                  name="paymentMethod"
                  type="radio"
                  class="custom-control-input"
                  required=""
                />
                <label class="custom-control-label" for="paypal">PayPal</label>
              </div>
              <div class="custom-control custom-radio">
                <input
                  id="paypal"
                  name="paymentMethod"
                  type="radio"
                  class="custom-control-input"
                  required=""
                />
                <label class="custom-control-label" for="cash"
                  >cash on delivery</label
                >
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="cc-name">Name on card</label>
                <input
                  type="text"
                  class="form-control"
                  id="cc-name"
                  placeholder=""
                  required=""
                />
                <small class="text-muted">Full name as displayed on card</small>
                <div class="invalid-feedback">Name on card is required</div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="cc-number">Credit card number</label>
                <input
                  type="text"
                  class="form-control"
                  id="cc-number"
                  placeholder=""
                  required=""
                />
                <div class="invalid-feedback">
                  Credit card number is required
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-3 mb-3">
                <label for="cc-expiration">Expiration</label>
                <input
                  type="text"
                  class="form-control"
                  id="cc-expiration"
                  placeholder=""
                  required=""
                />
                <div class="invalid-feedback">Expiration date required</div>
              </div>
              <div class="col-md-3 mb-3">
                <label for="cc-cvv">CVV</label>
                <input
                  type="text"
                  class="form-control"
                  id="cc-cvv"
                  placeholder=""
                  required=""
                />
                <div class="invalid-feedback">Security code required</div>
              </div>
            </div>
            <hr class="mb-4" />
            <button class="btn btn-primary btn-lg btn-block" type="submit">
              Continue to checkout
            </button>
          </form>
        </div>
      </div>
      <footer class="my-5 pt-5 text-muted text-center text-small">
        <p class="mb-1">© 2017-2019 Company Name</p>
        <ul class="list-inline">
          <li class="list-inline-item"><a href="#">Privacy</a></li>
          <li class="list-inline-item"><a href="#">Terms</a></li>
          <li class="list-inline-item"><a href="#">Support</a></li>
        </ul>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
